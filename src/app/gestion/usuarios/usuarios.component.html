<div class="clients-wrapper mr-5" [ngClass]="{'clients-sidebox-open': sideboxOpened}">

  <div [perfectScrollbar]="{ suppressScrollX: true, wheelPropagation: true }" class="clients-content clients-scroll container-p-x container-p-y">

    <h4 class="d-flex flex-wrap justify-content-between align-items-center font-weight-bold pt-2 mb-4">
      <div class="mb-2">Usuarios</div>
      <div class="mb-2" style="max-width: 200px;">
        <input type="text" class="form-control" placeholder="Search">
      </div>
    </h4>

    <div class="table-responsive ui-bordered">
      <table class="clients-table table table-hover m-0">
        <tbody>

          <tr *ngFor="let client of clientsData" [ngClass]="{'bg-light': selected === client && sideboxOpened}" (click)="selectClient(client)">
            <td class="align-middle py-3">
              <div class="media align-items-center">
                <img [src]="'assets/img/avatars/5-small.png'" class="d-block ui-w-40 rounded-circle" alt="">
                <div class="media-body flex-basis-auto pl-3">
                  <div>{{client.nombres+' '+client.apellidos }}</div>
                  <div class="text-muted small">@{{client.correo}}</div>
                </div>
              </div>
            </td>
            
            <td class="align-middle py-3">
              Documento: {{client.nro_documento}}
            </td>
            <td class="align-middle py-3">
              <div *ngIf="client.phone">{{client.telefono}}</div>
            </td>
            <td class="align-middle py-3">
              <span *ngIf="client.estado">
                <span class="badge badge-success" *ngIf="client.estado === 1">Activo</span>
                <span class="badge badge-info" *ngIf="client.estado === 2">In progress</span>
                <span class="badge badge-warning" *ngIf="client.estado === 3">Pending</span>
              </span>
            </td>
          </tr>

        </tbody>
      </table>
    </div>
    <!-- / Clients list -->

  </div><!-- / .clients-content -->

  <!-- Clients sidebox -->
  <div class="clients-sidebox bg-body border-left">
    <a (click)="closeSidebox()" href="javascript:void(0)" class="clients-sidebox-close text-muted text-xlarge font-weight-light">&times;</a>

    <div *ngIf="selected" [perfectScrollbar]="{ suppressScrollX: true, wheelPropagation: true }" class="clients-scroll container-p-y">

      <!-- Client info -->
      <div class="text-center p-4">
        <img [src]="'assets/img/avatars/5-small.png'" class="ui-w-100 rounded-circle mb-4" alt="">
        <h5 class="mb-1"><a href="javascript:void(0)" class="text-body">{{selected.nombres+' '+selected.apellidos}}</a></h5>
        <div class="text-muted small mb-2">@{{selected.correo}}</div>
        <div class="small mb-4" *ngIf="selected.telefono">
          <div *ngIf="selected.phone">{{selected.telefono}}</div>
        </div>
      </div>
      <!-- / Client info -->

      <hr class="border-light m-0">

      <!-- Messages -->
      <div class="p-4">
        <h6 class="mb-3">Cuentas</h6>

        <div *ngIf="arrayCuentas">
          <div *ngFor="let message of arrayCuentas; let i = index" class="ui-bordered py-2 px-3" [ngClass]="{'mb-3': i !== (arrayCuentas.length - 1)}">
            {{message.content}}
            <div class="text-muted small mt-1">{{message.date}} ago &nbsp; | &nbsp; <a href="javascript:void(0)" class="text-muted">ver</a></div>
          </div>
        </div>
        <div *ngIf="!arrayCuentas" class="text-lighter my-4">No messages</div>
      </div>
      <!-- / Messages -->

    </div>
  </div>
  <!-- / Clients sidebox -->

</div>
<!-- / Clients wrapper -->
